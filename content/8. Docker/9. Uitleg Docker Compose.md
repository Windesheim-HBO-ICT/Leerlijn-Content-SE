---
title: 9. Uitleg Docker Compose
taxonomie:
  - ib-19.2.Docker.OI
  - ib-19.3.Docker.OI
draft: false
---

## Wat is Docker Compose?
**Docker** Compose is een tool waarmee je multi-container Docker applicaties eenvoudig kunt definiëren en uitvoeren. In een docker-compose.yml bestand beschrijf je de configuratie van één of meerdere containers, zodat ze samen als één applicatie draaien.

> [!TIP] Casus  
> Een ontwikkelaar wil een webapplicatie draaien die bestaat uit een frontend, backend en database. Met Docker Compose definieert hij in één bestand hoe deze drie containers met elkaar samenwerken, zodat de gehele applicatie eenvoudig gestart kan worden.

## Hoe zit Docker Compose in elkaar?
Een docker-compose.yml bestand is een YAML bestand waarin je de configuratie van je applicatie vastlegt. Hieronder staan de belangerijkste onderdelen van dit bestand.

### version
Geeft aan welke versie van Compose wordt gebruikt. Dit zorgt voor compatibiliteit en bepaalt welke functionaliteiten beschikbaar zijn.

### services
Hier definieer je de verschillende containers die deel uitmaken van je applicatie. Elke service bevat specificaties zoals build, waarmee je de build-context of een verwijzing naar een Dockerfile aangeeft. Daarnaast geef je een image op, dit is een vooraf gebouwde image die gebruikt kan worden. Ook stel je via ports de koppeling van containerpoorten naar de host in en bepaal je met environment de benodigde omgevingsvariabelen voor de service.

### volumes
Met volumes kun je data delen tussen de host en de container of tussen verschillende containers. Dit zorgt ervoor dat data behouden blijft, ook als containers opnieuw worden opgestart.

### networks
Netwerken regelen hoe de services binnen de applicatie met elkaar communiceren. Standaard maakt Docker Compose een netwerk aan waarin alle services met elkaar verbonden zijn.

### Codevoorbeeld
```yaml
version: "3.8"

services:
  web:
    build: .
    ports:
      - "80:80"
    environment:
      - APP_ENV=production
    depends_on:
      - db

  db:
    image: postgres:13
    environment:
      - POSTGRES_USER=example
      - POSTGRES_PASSWORD=secret
      - POSTGRES_DB=example_db
    volumes:
      - db_data:/var/lib/postgresql/data

volumes:
  db_data:
```

## Hoe gebruik je Docker Compose?
Met **Docker Compose** start je alle gedefinieerde services met één enkel commando. Door in de directory van je docker-compose.yml bestand het commando `docker-compose up` uit te voeren, worden de containers in de juiste volgorde opgebouwd en gestart. Dit zorgt voor een gestroomlijnde en consistente deployment van je applicatie.

> [!TIP] Casus  
> Een team ontwikkelt een applicatie met meerdere services en wil het deployment-proces automatiseren. Door Docker Compose te gebruiken, kunnen alle benodigde containers in één keer worden opgestart, wat de ontwikkel- en testfase aanzienlijk vereenvoudigt.

---

> Volgende stap: [[10. Stappen Docker Compose]]